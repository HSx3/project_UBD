{% extends 'base.html' %}
{% block head %}
<style>
    .hover_container {
      position: relative;
      width: 50%;
    }
    
    .hover_image {
      opacity: 1;
      display: black;
      width: 100%;
      height: auto;
      transition: .5s ease;
      backface-visibility: hidden;
    }
    
    .middle {
      transition: .5s ease;
      opacity: 0;
      position: absolute;
      top: 70%;
      left: -5%;
      /*transform: translate(-50%, -50%);*/
      /*-ms-transform: translate(-50%, -50%);*/
      text-align: center;
    }
    
    .middle p {
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-line-clamp: 8; /* 라인수 */
      -webkit-box-orient: vertical;
      word-wrap:break-word; 
      line-height: 12px;
      height: 100px;
    }
    
    
    .hover_container:hover .hover_image {
      opacity: 1;
      -webkit-transform: scale(1.2);
      /*-webkit-transition: transform 3.5s;*/
    }
    
    .hover_container:hover .middle {
      opacity: 1;
    }
    
    .text {
      /*background-color: #4CAF50;*/
      /*z-index: 1;*/
      color: white;
      font-size: 16px;
      padding: 16px 32px;
    }
    

</style>
{% endblock %}

{% block content %}




<div class="container">
    <div class="d-flex justify-content-between">
        <span class='mt-3 text-white' style='font-size:1.4vw;'>영복동 최고 인기작</span>
        
    </div>
    <div class="row">
        {% for movie in popular_movies %}
        <div class="col-4 mt-3">
            <!--<div class="card card-hover h-100">-->
            <!--<div class="col-10 my-3">-->
                <div class="card card-hover h-100 hover_container" style="width: 18rem; background-color: #191919;">
                        <!--<img src="{{ movie.poster_url }}" class="card-img-top hover_image" style="height: 410px;" alt="...">-->
                        <a href="{% url 'movies:detail' movie.pk %}"><img src="{{ movie.backdrop_url }}" class="card-img-top hover_image" alt="..."></a>
                        <div class="middle">
                            <div class="text text-left">
                              <!--<p class="text-white" style="font-size: 20px; position: absolute; bottom: 0px; left: 16px;">{{ movie.title }}</p>-->
                                <h5>{{ movie.title }}</h5>
                                <!--<p>{{ movie.runtime }}분</p>-->
                                <!--<div class="float-left" data-toggle="modal" data-target="#movieModal">-->
                                <!--  <p class="text-white" style="font-size: 20px; position: absolute; bottom: 0px; left: 16px;">{{ movie.title }}</p>-->
                                    
                                <!--</div>-->
                                    
                                <!--<i class="fas fa-angle-down to-detail d-flex justify-content-center dropdown"></i>-->
                            </div>
                        </div>
                </div>
        </div>
        {% endfor %}
    </div>
</div>


<div id="highestCarousel" class="carousel slide w-100" data-ride="carousel" data-interval="false">
        <div class="carousel-inner w-100" role="listbox">
            {% for hm in highest_movies %}
                
                    <div class="carousel-item row no-gutters active hover_container">
                
                        <div class="col-2 float-left" data-toggle="modal" data-target="#movieModal">
                        <p class="text-white" style="font-size: 20px; position: absolute; bottom: 0px; left: 16px;">{{ hm.title }}</p>
                            <img class="img-fluid hover_image" src="{{ hm.backdrop_url }}">
                        </div>
                
                    </div>
                    <div class="carousel-item row no-gutters">
                
            {% endfor %}
            </div>
        </div>
        <a class="carousel-control-prev" href="#highestCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon mr-auto" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#highestCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon ml-auto" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>


    
    
  

{% endblock %}


